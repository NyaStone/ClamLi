{
	"name": "Logical signature",
	"patterns": [
		{"include": "#logicalSignature"}
	],
	"repository": {
		"logicalSignature": {
			"contentName": "entity.ldb.logicalSignature",
			"begin": "([^;]*)(?=;)",
			"end": "(?<=[^;][\\s\\r\\n]*)[\\r\\n]",
			"beginCaptures": {
				"1": {"name": "variable.other.ldb.signatureName"}
			},
			"patterns": [
				{"include": "#targetDescriptionBlock"}
			]
		},
		"targetDescriptionBlock": {
			"contentName" : "meta.ldb.targetDescriptionBlock",
			"begin": "(?<=\\G)(;)\\n*",
			"end": "(?<=\\1[^;]*;)\\n*",
			"beginCaptures": { 
				"1": {"name": "punctuation.semicolon.ldb"}
			},
			"patterns": [
				{"include": "#engineOption"},
				{"include": "#rangeOption"},
				{"include": "#targetOption"}
			]
		},

		"engineOption": {
			"name": "meta.options.ldb",
			"begin": "(?<=\\G)(Engine)(:)",
			"end": ",|;",
			"beginCaptures": { 
				"1": {"name": "keyword.option.engine.ldb"},
				"2": {"name": "punctuation.colon.ldb"}
			},
			"patterns": [
				{"include": "#range"}
			]
		},
		"rangeOption": {
			"name": "meta.options.ldb",
			"begin": "(FileSize|EntryPoint|NumberOfSections|IconGroup1|IconGroup2)(:)",
			"end": ",|;",
			"beginCaptures": { 
				"1": {"name": "keyword.option.rangeOption.ldb"},
				"2": {"name": "punctuation.colon.ldb"}
			},
			"patterns": [
				{"include": "#range"}
			]
		},
		"targetOption": {
			"name": "meta.options.ldb",
			"begin": "(Target)(:)",
			"end": ",|;",
			"beginCaptures": { 
				"1": {"name": "keyword.option.rangeOption.ldb"},
				"2": {"name": "punctuation.colon.ldb"}
			},
			"patterns": [
				{
					"name": "constant.numeric.fileType.ldb",
					"match": "(?<!\\d)\\d(?!\\d)"
				},
				{
					"name": "constant.numeric.fileType.ldb",
					"match": "(?<!\\d)1[012](?!\\d)"
				}
			]
		},


		"range": {
			"match": "(\\d+)(-)(\\d+)",
			"captures": {
				"1": {"name": "constant.numeric.integer.ldb"},
				"2": {"name": "punctuation.hyphen.ldb"},
				"3": {"name": "constant.numeric.integer.ldb"}
			}
		}
	},
	"scopeName": "source.ldb"
}